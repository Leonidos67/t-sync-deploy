# Функциональность создания персональных сайтов

## Обзор

Добавлена возможность создания персональных сайтов для пользователей платформы T-Sync. Пользователи могут создавать красивые персональные страницы с использованием богатого текстового редактора TipTap.

## Основные возможности

### 1. Создание сайта
- **Пошаговый процесс**: 4 этапа создания сайта
- **Богатый редактор**: TipTap редактор с поддержкой форматирования
- **Загрузка медиа**: Фото профиля и галерея изображений
- **Автоматическая ссылка**: Сайт доступен по адресу `/web/<username>`

### 2. TipTap редактор
Поддерживаемые функции форматирования:
- **Текст**: Жирный, курсив, подчеркнутый, зачеркнутый
- **Заголовки**: Различные уровни заголовков
- **Списки**: Маркированные и нумерованные
- **Выравнивание**: По левому краю, центру, правому краю, по ширине
- **Цвета**: Выбор цвета текста
- **Медиа**: Вставка изображений и видео
- **Ссылки**: Создание гиперссылок
- **Код**: Вставка блоков кода и inline кода
- **Цитаты**: Блоки цитирования

### 3. Структура сайта
- **Заголовок**: Название сайта
- **Описание**: Краткое описание
- **О себе**: Основной контент с форматированием
- **Фото профиля**: Главное изображение
- **Галерея**: Дополнительные изображения
- **Автоматическая ссылка**: `/web/<username>`

## Техническая реализация

### Компоненты
- `TipTapEditor` - Богатый текстовый редактор
- `CreateWebsiteDialog` - Диалог создания сайта
- `WebsitePreview` - Предварительный просмотр
- `WebsiteManager` - Управление сайтом
- `PublicWebsite` - Публичное отображение

### API endpoints
- `POST /website/create` - Создание сайта
- `GET /website/:username` - Получение сайта по username
- `PUT /website/update` - Обновление сайта
- `DELETE /website/delete` - Удаление сайта

### Типы данных
```typescript
interface WebsiteType {
  _id: string;
  userId: string;
  username: string;
  title: string;
  description: string;
  about: string;
  profileImage: string | null;
  gallery: string[];
  isPublished: boolean;
  createdAt: string;
  updatedAt: string;
}
```

## Использование

### Для пользователей

1. **Создание сайта**:
   - Перейдите в свой профиль
   - Нажмите "Создать сайт"
   - Заполните все необходимые поля
   - Используйте TipTap редактор для раздела "О себе"
   - Загрузите фото и изображения
   - Создайте сайт

2. **Редактирование**:
   - В профиле нажмите "Редактировать"
   - Измените нужные поля
   - Сохраните изменения

3. **Просмотр**:
   - Ваш сайт доступен по адресу `/web/<ваш-username>`
   - Ссылка автоматически создается при создании

### Для разработчиков

1. **Добавление в профиль**:
```tsx
import WebsiteManager from '@/components/website/website-manager';

// В компоненте профиля
<WebsiteManager />
```

2. **Использование TipTap редактора**:
```tsx
import TipTapEditor from '@/components/tiptap-editor';

<TipTapEditor
  content={content}
  onChange={setContent}
  placeholder="Начните писать..."
/>
```

3. **API вызовы**:
```tsx
import { useCreateWebsite } from '@/hooks/api/use-website';

const createWebsite = useCreateWebsite();
await createWebsite.mutateAsync(websiteData);
```

## Маршрутизация

- `/web/:username` - Публичный сайт пользователя
- Автоматически добавляется в `baseRoutePaths`

## Стилизация

- Использует существующую систему UI компонентов
- Адаптивный дизайн для мобильных устройств
- Современный и чистый интерфейс
- Поддержка темной/светлой темы

## Безопасность

- Проверка авторизации для создания/редактирования
- Валидация входных данных
- Безопасная загрузка файлов
- Защита от XSS через sanitization

## Будущие улучшения

- Поддержка дополнительных форматов медиа
- Аналитика посещений
- Комментарии и лайки
- Кастомизация дизайна
- SEO оптимизация
- Экспорт сайта
- Интеграция с социальными сетями
