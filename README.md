# T-Sync - Платформа для ведения тренировок

T-Sync - это B2B платформа для управления тренировками, где тренеры могут создавать рабочие пространства и приглашать спортсменов для совместной работы.

## Новая функциональность: Разделение ролей

### Роли пользователей

1. **Тренер (Coach)** - имеет полный доступ ко всем функциям:
   - Создание и управление рабочими пространствами
   - Создание проектов (комнат) и задач (тренировок)
   - Управление спортсменами
   - Просмотр всех данных

2. **Спортсмен (Athlete)** - ограниченный доступ:
   - Просмотр назначенных тренировок
   - Редактирование своих данных
   - Нет доступа к управлению участниками

### Изменения в интерфейсе

#### Для тренеров:
- В сайдбаре отображается "Мои спортсмены"
- В проектах отображается "Мои комнаты"
- Полный доступ ко всем функциям

#### Для спортсменов:
- В сайдбаре отображается "Мои данные" вместо "Мои спортсмены"
- В проектах отображается "Мои тренировки"
- Скрыты функции создания проектов и управления участниками

### Тестирование

1. **Запуск приложения:**
   ```bash
   # Backend
   cd backend
   npm run dev
   
   # Frontend
   cd client
   npm run dev
   ```

2. **Тестирование ролей:**
   - При первом входе нового пользователя появится модальное окно онбординга
   - Выберите роль "Я - Тренер" или "Я - Спортсмен"
   - После выбора роли интерфейс изменится соответственно

3. **Проверка различий:**
   - Тренеры видят "Мои спортсмены" в сайдбаре
   - Спортсмены видят "Мои данные" в сайдбаре
   - Тренеры могут создавать проекты, спортсмены - нет
   - Тренеры видят "Мои комнаты", спортсмены - "Мои тренировки"

### Технические детали

- Добавлено поле `userRole` в модель пользователя
- Создан API endpoint `/auth/role` для обновления роли
- Обновлены компоненты навигации для отображения разного контента
- Добавлена логика условного рендеринга в зависимости от роли

### Структура изменений

- `backend/src/models/user.model.ts` - добавлено поле userRole
- `backend/src/services/auth.service.ts` - добавлена функция updateUserRoleService
- `backend/src/controllers/auth.controller.ts` - добавлен контроллер updateUserRoleController
- `backend/src/routes/auth.route.ts` - добавлен route для обновления роли
- `client/src/components/workspace/common/NewUserOnboardingDialog.tsx` - обновлен для сохранения роли
- `client/src/components/asidebar/nav-main.tsx` - обновлена навигация
- `client/src/components/asidebar/nav-projects.tsx` - обновлены проекты
- `client/src/page/workspace/Members.tsx` - обновлена страница участников
- `client/src/components/header.tsx` - обновлены заголовки

